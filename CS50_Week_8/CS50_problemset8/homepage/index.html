<!DOCTYPE html>

<html lang="en">
    <head>
        <!-- Meta data -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="My first website! A homepage about me.">
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <!-- My Stylesheet -->
        <link href="styles.css" rel="stylesheet">
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="favicon/icons8-minecraft-sword-48.png">
        <!-- Page Title -->
        <title>Owen's Homepage</title>
    </head>
    <body>
        <!-- Welcome Message and Navigation Menu -->
        <header>
            <h1>Welcome to My Home Page</h1>
        </header>
        <!-- End of Welcome Message and Navigation Menu -->


        <main>
            <!-- Main Content -->
            <section class="card shadow" style="width: 70%; margin: auto; text-align: center;">
                <div class="card-body">
                    <h3 class="card-title">About Me</h3>
                    <p class="card-text">
                        Hello, my name is Owen. In this small website/pages you'll learn a little
                        about me. specifically you'll learn about my hobbies, rock climbing and muay thai,
                        as well as my career goals and why I made this site at all. Hope you enjoy!
                    </p>
                    <a href="rockclimbing.html" class="customlink2">Next Page</a>
                </div>
            </section>
            <!-- End of Main Content -->

            <!-- Hidden Robot Game -->
            <section class="special-margin">
                <div class="blank-canvas">
                    <div id="retro-robot">
                        <!-- Robot -->
                        <img src="../media/retro_robot.png" alt="Retro Robot Image" id="retro-robot-image" style="width:70px; height: auto;">
                        <!-- Robot -->

                        <!-- Robot Chat Bubble, TO DO: Style chat bubble in css -->
                        <div id="robot-chat-bubble">
                            <p id="robot-m1">Hello user.</p>
                            <p id="robot-m2">I challenge you to a duel.</p>
                            <p id="robot-m3">If you accept, find the secret...</p>
                            <p id="mobile-use-case">User, I challenge you to a duel. Talk to me on pc if you are brave enough to proceed.</p>
                            <div id="robot-chat-bubble-tail"></div>
                        </div>
                        <!-- End of Robot Chat Bubble -->
                    </div>

                    <!-- Hidden Button -->
                    <button type="button" id="hidden-button" class="btn btn-primary robot-modal-button" data-bs-toggle="modal" data-bs-target="#fight-question-modal">
                        Hidden Button
                    </button>
                    <!-- End of Hidden Button -->
                </div>

                <!-- Game -->
                <iframe id="robot-game" title="robot-game" src="https://scratch.mit.edu/projects/1036518748/embed" allowtransparency="true" width="485" height="402" frameborder="0" scrolling="no" allowfullscreen></iframe>

            </section>
            <!-- End of Hidden Robot Game -->

        </main>

        <!-- Lower Navigation Menu -->
        <footer>
        </footer>
        <!-- End of Lower Navigation Menu -->

        <!-- Robot Fight Question Modal -->
        <div class="modal fade" id="fight-question-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="robot-modal-title" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title w-100 text-center fs-5" id="robot-modal-title">Fight the Robot?</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body d-flex justify-content-center">
                        <button type="button" id="yes-button" class="m-2" style="background-color: green; color: lightsalmon;" data-bs-dismiss="modal">Yes</button>
                        <button type="button" class="m-2" style="background-color: red; color: lightsalmon;" data-bs-dismiss="modal">No</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Robot Fight Question Modal -->

        <script src="script.js"></script>
        <script>
            // Set header and footer.
            setNav();

            // Robot Fight Question Modal yes button logic. Displays iframe and hides uneeded elements.
            document.getElementById("yes-button").addEventListener("click", () => {
                document.querySelector(".blank-canvas").style.display = "none";
                document.getElementById("robot-game").style.display = "block";
            });

            // If on pc robot hints to hidden button. If on mobile, tells the user to use pc.
            let timesClicked = 0;
            const isDesktop = window.innerWidth >= 1280;
            const chatBubble = document.getElementById("robot-chat-bubble");
            const m0 = document.getElementById("robot-m1");
            const m1 = document.getElementById("robot-m2");
            const m2 = document.getElementById("robot-m3");
            const mobileUseMessage = document.getElementById("mobile-use-case");

            document.getElementById("retro-robot-image").addEventListener("click", () => {
                // If user is on desktop send messages to user to hint about the hidden button. Otherwise tell user to log on on pc.
                if (isDesktop) {
                    // Display correct message depending on how many times the user has clicked the robot.
                    if (timesClicked === 0) {
                    chatBubble.style.display = "block";
                    m0.style.display = "inline";
                    setTimeout(() => {
                        chatBubble.style.display = "none";
                        m0.style.display = "none";
                    }, 5000);
                    timesClicked += 1;
                    }
                    else if (timesClicked === 1)
                    {
                        chatBubble.style.display = "block";
                        m1.style.display = "inline";
                        setTimeout(() => {
                            chatBubble.style.display = "none";
                            m1.style.display = "none";
                        }, 5000);
                        timesClicked += 1;
                    }
                    else if (timesClicked === 2)
                    {
                        chatBubble.style.display = "block";
                        m2.style.display = "inline";
                        setTimeout(() => {
                            chatBubble.style.display = "none";
                            m2.style.display = "none";
                        }, 5000);
                    }
                }
                else {
                    // tells user to open site on pc to fight
                    chatBubble.style.display = "block";
                    mobileUseMessage.style.display = "inline";
                    setTimeout(() => {
                        chatBubble.style.display = "none";
                        mobileUseMessage.style.display = "none";
                    }, 5000);
                }
            });
        </script>
    </body>
</html>
